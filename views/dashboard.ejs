<!DOCTYPE html>
<html lang="en">
    <%- include('partials/head', { title: 'App' }) %>
<body class="w-full h-screen overflow-y-auto relative">
    <header class="bg-white w-full border-b border-gray-200 fixed top-0 z-50">
        <div class="max-w-5xl mx-auto flex justify-between items-center px-4 py-2 pt-4">
            <a href="/" class="text-2xl font-bold text-gray-900">Lion <span class="text-blue-600">Drive</span></a>
            <div class="flex items-center">
                <a href="/profile" class="btn bg-blue-600 text-white rounded-lg px-4 py-2">Profile</a>
                <a href="/logout" class="btn bg-red-600 text-white rounded-lg px-4 py-2">Logout</a>
            </div>
        </div>
    </header>
    <main class="relative max-w-5xl mx-auto w-full h-fit mt-16">
        <section id="folder-section" class="@container flex flex-col items-center justify-center h-fit px-4 py-4">
            <div class="content grid grid-cols-1 @xs:grid-cols-2 @lg:grid-cols-3  @2xl:grid-cols-4 @4xl:grid-cols-5 w-full gap-4">
                <div class="folder-card-action-dropdown relative flex flex-col items-center justify-center h-fit">
                    <a href="/folder/1" class="folder-card bg-white rounded-lg p-2 w-full h-fit flex justify-between items-start border border-gray-200 shadow-xs gap-2 hover:bg-gray-100">
                        <div class="w-full folder-content flex flex-col items-start justify-start gap-2">
                            <div class="icon flex items-center justify-center bg-blue-50 rounded-full p-2 size-10">
                                <i class="bi bi-folder text-blue-600 text-2xl"></i>
                            </div>
                            <h3 class="w-full text-gray-900 text-base font-semibold line-clamp-1">My Files sdflhsd fhkdhsfdklsf</h3>
                            <p class="w-full text-gray-600 text-xs">10 files</p>
                        </div>
                        <button id="folder-card-action-dropdown-trigger" class="text-gray-900 w-fit">
                            <i class="bi bi-three-dots-vertical"></i>
                        </button>
                    </a>
                    <div class="hidden w-max absolute top-10 right-2 flex flex-col items-center text-right justify-center h-fit bg-white rounded-lg border border-gray-200 shadow-sm">
                        <a href="/folder/1" class="w-full text-gray-900 text-sm font-medium line-clamp-1 px-3 py-2 hover:bg-gray-100 border-b border-gray-200">view detail</a>
                        <a href="/folder/1" class="w-full text-gray-900 text-sm font-medium line-clamp-1 px-3 py-2 hover:bg-gray-100">Delete</a>
                    </div>
                </div>
            </div>
        </section>
        <section class="file-section @container/files w-full flex flex-col items-center justify-center h-fit px-4 py-4">
            <header class="w-full flex flex-row items-center justify-start gap-2 py-3 bg-[#f5f7fa]">
                <h2 class="text-gray-700 text-base font-semibold">My files</h2>
            </header>
            <div class="content grid grid-cols-1 @xs:grid-cols-2 @lg:grid-cols-3 @2xl:grid-cols-4 @4xl:grid-cols-5 w-full gap-4">
                <div class="file-card-action-dropdown relative flex flex-col items-center justify-center h-fit">
                    <a href="/file/1" class="file-card bg-white rounded-lg p-2 w-full h-fit flex flex-col items-start justify-start border border-gray-200 shadow-xs gap-2 hover:bg-gray-100">
                        <div class="w-full file-content flex flex-col items-start justify-start gap-2">
                            <div class="icon flex items-center justify-center size-fit mx-auto mt-4">
                                <i class="bi bi-file-earmark-text text-blue-600 text-4xl"></i>
                            </div>
                            <div class="file-info w-full flex flex-row items-center justify-between gap-2">
                                <h3 class="w-full text-gray-900 text-sm font-medium line-clamp-1">My Files sdflhsd fhkdhsfdklsf</h3>
                                <button id="file-card-action-dropdown-trigger" type="button" class="text-gray-900 w-fit">
                                    <i class="bi bi-three-dots-vertical"></i>
                                </button>
                            </div>
                        </div>
                    </a>
                    <div class="hidden w-max absolute bottom-10 right-2 flex flex-col items-center text-right justify-center h-fit bg-white rounded-lg border border-gray-200 shadow-sm">
                        <a href="/file/1" class="w-full text-gray-900 text-sm font-medium line-clamp-1 px-3 py-2 hover:bg-gray-100 border-b border-gray-200">view detail</a>
                        <a href="/file/1" class="w-full text-gray-900 text-sm font-medium line-clamp-1 px-3 py-2 hover:bg-gray-100">Delete</a>
                    </div>
                </div>
            </div>
        </section>
        <!-- Renamed the ID for the floating button to avoid duplication -->
        <button id="open-create-folder-button" onclick="showDialogue('create-folder-dialog')" class="size-10 btn bg-blue-600 absolute bottom-4 right-4 text-white rounded-full p-2 flex items-center justify-center">
            <i class="bi bi-plus text-2xl"></i>
        </button>
        <dialog id="create-folder-dialog" class="max-w-md w-full h-fit bg-white rounded-lg p-6 shadow-lg">
            <h2 class="text-gray-900 text-base font-semibold mb-4 mt-2">Create new folder</h2>
            <input type="text" id="create-folder-name" class="w-full p-2 rounded-lg border border-gray-200" placeholder="Folder name">
            <div class="w-full flex flex-row items-center justify-end gap-4">
                <button id="create-folder-dialog-close" onclick="closeDialogue('create-folder-dialog')" class="btn text-red-600 font-semibold mt-4">Cancel</button>
                <!-- The Create button inside the dialog retains its ID -->
                <button id="create-folder-button" class="btn text-blue-600 font-semibold mt-4">Create</button>
            </div>
        </dialog>
    </main>
    <%- include('partials/footer') %>
    <script defer src="/js/showDialogue.js"></script>
</body>
</html>
